<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>NEAR Guest Book</title>

    <!-- Bootstrap -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
      integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
      crossorigin="anonymous"
    />
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId: "384002515644565",
          cookie: true,
          xfbml: true,
          version: "v4.0"
        });

        FB.AppEvents.logPageView();
      };

      (function(d, s, id) {
        var js,
          fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {
          return;
        }
        js = d.createElement(s);
        js.id = id;
        js.src = "https://connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
      })(document, "script", "facebook-jssdk");
    </script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
      .glyphicon-refresh-animate {
        -animation: spin 0.7s infinite linear;
        -webkit-animation: spin2 0.7s infinite linear;
      }

      @-webkit-keyframes spin2 {
        from {
          -webkit-transform: rotate(0deg);
        }
        to {
          -webkit-transform: rotate(360deg);
        }
      }

      @keyframes spin {
        from {
          transform: scale(1) rotate(0deg);
        }
        to {
          transform: scale(1) rotate(360deg);
        }
      }
    </style>
  </head>
  <body style="padding-top: 70px; padding-bottom: 30px;">
    <div id="fb-root"></div>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v4.0&appId=384002515644565&autoLogAppEvents=1"
    ></script>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button
            type="button"
            class="navbar-toggle collapsed"
            data-toggle="collapse"
            data-target="#navbar"
            aria-expanded="false"
            aria-controls="navbar"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./">NEAR Guest Book</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="./">Home</a></li>
            <li><a href="" class="wallet disabled">Wallet</a></li>
            <li class="hidden" id="logout-option">
              <a href="#logout" id="logout-button">Logout</a>
            </li>
          </ul>
        </div>
        <!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container" role="main">
      <h3>
        Messages:
        <button id="refresh-button" class="btn btn-sm btn-default">
          <span id="refresh-span" class="glyphicon glyphicon-refresh"></span>
        </button>
      </h3>
      <div id="messages"></div>
      <hr />
      <div id="sign-in-container">
        <h2>Hello stranger! Who are you?</h2>
        <div id="login-form">
          <div class="col-md-4">
            <button id="login-button"></button>
            <div
              id="spinner"
              style="
                background: #4267b2;
                border-radius: 5px;
                color: white;
                height: 40px;
                text-align: center;
                width: 250px;"
            >
              Loading
              <div
                class="fb-login-button"
                data-max-rows="1"
                data-size="large"
                data-button-type="continue_with"
                data-use-continue-as="true"
              ></div>
            </div>
          </div>
        </div>
      </div>

      <div id="guest-book-container" class="hidden">
        <div id="hello">
          <h2 id="hello">
            <img src="" id="fb-picture" alt="fb-picture" /> Hi,
            <span class="account-id"></span>!
          </h2>
        </div>
        <div class="row">
          <div class="col-sm-10">
            <input
              id="text-message"
              type="text"
              class="form-control"
              placeholder="Enter your message here"
            />
          </div>
          <div class="col-sm-2">
            <button id="submit-tx-button" class="btn btn-primary btn-block">
              Post
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/gh/nearprotocol/nearlib@0.11.0/dist/nearlib.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="./config.js"></script>
    <script async defer src="./main.js"></script>
  </body>
</html>
